<h1>{{title | titlecase}}</h1>
<hr />
<ngb-accordion #acc="ngbAccordion">
  <ngb-panel *ngFor="let item of items; index as i;" id="panel{{i}}">
    <ng-template ngbPanelHeader let-opened="opened">
      <div class="d-flex align-items-center justify-content-between" (click)="acc.toggle('panel'+i)">
        <h4 class="mb-0">{{item.name}}</h4>
        <span class="fas" [ngClass]="{ 'fa-minus' : opened, 'fa-plus' : !opened }"></span>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <markdown class="variable-binding">{{item.asi_desc}}</markdown>
      <span class="font-weight-bold">Speed:</span><span class="text-muted"
        *ngFor="let speed of item.speed | keyvalue; let isLast=last"> {{speed.key}}:
        {{speed.value}}ft.{{isLast ? '': ', '}}</span>
      <markdown class="variable-binding">{{item.speed_desc}}</markdown>
      <markdown class="variable-binding">{{item.age}}</markdown>
      <markdown class="variable-binding">{{item.alignment}}</markdown>
      <markdown class="variable-binding">{{item.size}}</markdown>
      <markdown class="variable-binding">{{item.languages}}</markdown>
      <markdown class="variable-binding">{{item.vision}}</markdown>
      <markdown class="variable-binding">{{item.traits}}</markdown>
      <div *ngIf="item.subraces.length > 0">
      <h5>Subraces</h5>
      <hr />
      <div *ngFor="let subrace of item.subraces">
        <div class="m-2">
          <h6>{{subrace.name}}</h6>
          <markdown class="variable-binding">{{subrace.asi_desc}}</markdown>
          <markdown class="variable-binding">{{subrace.desc}}</markdown>
        </div>
      </div>
    </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion>